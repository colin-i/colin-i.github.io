
<script type="module">
import { Octokit } from "https://cdn.skypack.dev/@octokit/core";

const octokit = new Octokit({
  auth: 'github_pat_'+'11ACTLOTY0hEfZBPtCUcq9_JO1u7Gf70NNbzL7bZhQPhTcVwsuiqbdWjdCHXfEr5PwR2RM5SYD4XmFbtll'
			//it expires if pushed without +
});

const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);

if(urlParams.has('score_text')){
	const game = urlParams.get('game_name')
	const name = urlParams.get('name_text')
	const score = urlParams.get('score_text')
	const comment = urlParams.get('comment_text')

	await octokit.request('POST /repos/colin-i/experimental/actions/workflows/39687662/dispatches', {
		ref: 'main'//,
		inputs: {
			game: game,
			name: name,
			score: score,
			comment: comment
		}
	})
	//console.log("read");
	//var obj=await octokit.request("GET /repos/colin-i/experimental/contents/report.txt", {});
	//var text=atob(obj.data.content);
	//console.log(text)
}
</script>

<a href="#" onclick="history.back()">Click here to go back</a>

<!-- alltime/month (top 25 + total) -->
<!-- name/score/comment/date -->
